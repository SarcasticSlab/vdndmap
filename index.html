<!DOCTYPE html>
<html lang="de">
<head>
	<link rel="stylesheet" type="text/css" href="./style.css"  />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VDND</title>
</head>
<body>
    <div class="toolbar">
            <div class="status" id="status">Ready - Enter your name</div>
            <button class="toolbar-item" id="newToken">New Token</button>
            <button class="toolbar-item" onclick="triggerImageUpload()">Upload Image</button>
            <div class="big checkbox-wrapper-8">
                <input class="tgl tgl-skewed" id="scaleToggle" type="checkbox"/>
                <label class="tgl-btn" data-tg-off="Fixed Objects" data-tg-on="Changeable" for="scaleToggle"></label>
            </div>
            <div>
                <div class="small checkbox-wrapper-8">
                    <input class="tgl tgl-skewed" id="squareGrid" type="checkbox"/>
                    <label class="tgl-btn" data-tg-off="No Squares" data-tg-on="Square Grid" for="squareGrid"></label>
                </div>
                <div class="small checkbox-wrapper-8">
                    <input class="tgl tgl-skewed" id="hexGrid" type="checkbox"/>
                    <label class="tgl-btn" data-tg-off="No Hexagons" data-tg-on="Hex Grid" for="hexGrid"></label>
                </div>
            </div>
            
            <div class="big checkbox-wrapper-8">
                <input class="tgl tgl-skewed" id="fadeOut" type="checkbox"/>
                <label class="tgl-btn" data-tg-off="Instant fade" data-tg-on="5s fade" for="fadeOut"></label>
            </div>
            <!--<div class="toolbar-toggle">
                <label class="toggle-switch">
                    <input type="checkbox" id="scaleToggle" checked="true">
                    <span class="slider"></span>
                </label>
                <label for="scaleToggle">Scale /<br/> Rotate</label>
            </div>
            <div class="toolbar-toggle">
                <label class="toggle-switch">
                    <input type="checkbox" id="squareGrid">
                    <span class="slider"></span>
                </label>
                <label for="squareGrid">Square<br>Grid</label>
            </div>
            <div class="toolbar-toggle">
                <label class="toggle-switch">
                    <input type="checkbox" id="hexGrid">
                    <span class="slider"></span>
                </label>
                <label for="hexGrid">Hex<br>Grid</label>
            </div>
            <div class="toolbar-toggle">
                <label class="toggle-switch">
                    <input type="checkbox" id="fadeOut">
                    <span class="slider"></span>
                </label>
                <label for="fadeOut">Fade<br>Measures</label>
            </div>-->
            <input type="file" id="imageUploader" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
    </div>
    <div class="toolbar2" id="tokenZone">
        <div class="image-strip" id="imageStrip"></div>
    </div>        
    
    <div class="setup-info" id="setup-info">
        <strong>Controls:</strong><br>
        üñ±Ô∏è Wheel: Zoom<br>
        üñ±Ô∏è Middle Mouse Button + Drag: Move Image<br>
        üñ±Ô∏è Right Mouse Button + Drag: Measure Distance<br>
        üñ±Ô∏è Left Mouse Button: Open Menu for selected Token
    </div>

    <!--<div class="canvas-container" id="canvas-container">
        <div class="image-layer" id="image-layer"></div>
    </div>-->

<div id="canvas-container" style="position: relative;">
  <canvas id="image-layer" class="canvas image-layer" width="3840" height="2160" style="z-index: 0;"></canvas>
  <canvas id="grid-layer"  class="canvas" width="3840" height="2160"  style="z-index: 1;"></canvas>
  <canvas id="token-layer"    class="canvas" width="3840" height="2160"  style="z-index: 2;"></canvas>
  <canvas id="menu-layer"     class="canvas" width="3840" height="2160"   style="z-index: 3;"></canvas>
  <!--  pointer-events: none;-->
</div>
    <div class="name-input" id="name-input">
        <h3>Welcome!</h3>
        <input type="text" id="username" placeholder="Your Name" maxlength="20" value="Test">
        <br>
        <button onclick="startApp()">Enter</button>
    </div>
</body>
	<script src="./cursor_tracker.js"></script>
	<script src="./token.js"></script>
	<script src="./main.js"></script>
	<script src="./imageHandler.js"></script>
</html>
<script>
document.getElementById("username").value = makeid(5);
function makeid(length) {
    var result           = '';
    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    var charactersLength = characters.length;
    for ( var i = 0; i < length; i++ ) {
        result += characters.charAt(Math.floor(Math.random() * charactersLength));
    }
    return result;
}
</script>